
# Работа с фаззинг-тестами в BondiFuzz

Фаззинг в BondiFuzz начинается с загрузки ранее созданных архивов `tar.gz` (бинарный файл фаззинг-теста, дополнительные файлы и сиды) и конфигурационного файла. Обязателен только бинарный файл, необходимость в других файлах зависит от используемого фаззинг-движка.

После загрузки файлов происходит проверка правильности форматов загруженных файлов и валидности json-файла. В этот момент фаззинг-тест находится в состоянии `Unverified OK`. Для начала проверки необходимо кликнуть кнопку `Start`, и фаззинг-тест будет перенаправлен в очередь из еще не проверенных фаззинг-тестов. Эта очередь приоритетная над основной очередью, т.е. если есть фаззинг-тесты, которым надо пройти проверку, они будут запускаться в первую очередь.

Сначала фаззинг-тест запускается с режимом запуска `firstrun`, т.е. с ограничением количества запусков — 10000 раз. Это необходимо для того, чтобы убедиться, что загруженный бинарный файл валидный. Если в этом режиме фаззинг-тест успел найти крэш, то в выводе будет упомянут и крэш. Если обнаружатся ошибки при запуске фаззинг-теста, пользователь будет проинформирован о них.

Далее фаззинг-тест попадает в общую очередь и будет запущен в обычном режиме.

В BondiFuzz есть внутренняя система оценки актуальности фаззинг-тестов — каждому присваивается свой вес. В случае, если фаззинг-тест находит крэши новые и/или у него растёт покрытие, вес увеличивается. При увеличении веса фаззинг-тест начинает чаще запускаться, а чем чаще он запускается, тем быстрее будут найдены крэши и/или увеличится покрытие кода.

Если же фаззинг-тест работает долго без обнаружения крэшей/увеличения покрытия — его вес постепенно уменьшается. Также вес будет уменьшаться, если фаззинг-тест будет обнаруживать только дубликаты крэшей, а не новые.
